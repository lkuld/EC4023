---
title: "Tutorial 1: Basics"
output: learnr::tutorial
runtime: shiny_prerendered
id: ec4023-tutorial-1
---

```{r setup, include=FALSE}
library(learnr)
knitr::opts_chunk$set(echo = FALSE)
```

# Introduction

This is the first tutorial in a series of tutorials that introduce you to R. In this tutorial, we will cover some basic concepts of R such as using R as a calculator, saving results in objects, creating vectors, and writing simple functions.


##  R as a calculator

*We start by using R for some simple calculations. Type your answers in the code boxes and then press **Run Code** to evaluate them in R.*

Write some mathematical expressions (e.g. `2+2`), then click on **Run Code**. Use **Start Over** to start afresh. What happens if you put two functions (commands) on the same line?

```{r randomCalc, exercise=TRUE}

```

How would you calculate $5 \times (3+4)$ and $5^{3+4}$ in R?  

Click on **Hint** if you get stuck.

```{r hoch, exercise=TRUE}

```

```{r hoch-hint}
2*(2+5) # use brackets to order your calculation
2*2+5 # The number or hash sign (#) indicates the beginning of a comment. R won't evaluate the rest of the line 
2^3 # ^ is used for powers 
2^(2+2)
5^3
```

Basic mathematical operations such as addition and multiplication have an intuitive implementation, for example `2 + 2`.  
Functions in R follow the format `function(a, b, ...)`, that is, a function name followed by its arguments in brackets, separated by commas.  
For instance, `sqrt(x)` calculates the square root of *x*.  

What is the square root of 289?  
Click on **Solution** to see the correct code.

```{r wurzel, exercise=TRUE}

```

```{r wurzel-solution}
sqrt(289)
```

Try other functions such as `log(x)` for the natural logarithm of *x* and `sum(x1, x2, x3, ...)` for the sum of several numbers separated by commas.  
If you are not sure what a function does, you can open its help page by typing a question mark before the function name, for example `?sum`.


## Objects, vectors, ...


### Saving results

For more complicated calculations, we usually want to store or retrieve data. In R, we can store data in various formats, we begin by saving the results from some calculations.

For more complex calculations, we usually want to store or retrieve data. In R, data can be stored in various formats. We begin by saving the result of a simple calculation.  

Let’s store the number $2$ as an object named `x1`.^[In R, we create the object `x1` at the same time as we assign a value to it. In some programming languages, the object must be created first before a value can be assigned.]  

We can use either an arrow `<-` or an equal sign `=` for assignment, for example:   `x1 <- 2` or `x1 = 2`.


In the box below, the object `x1` is created with the value `2`.  
Add `3` to `x1` and save the result as `y`.  


```{r speicher, exercise=TRUE}
 x1 <- 2
```

```{r speicher-solution}
  x1 <- 2
  y <- x1 + 3
```

So far, we have defined two objects: `x1` and `y`. However, no output has appeared because objects are created by the code but not automatically printed.  

To display the content of an object, simply write its name (e.g., `x1` or `y`) on a new line.  
Alternatively, you can use the `print()` function, for example:



```{r Object, exercise=TRUE, exercise.preval=TRUE}
x1 <- 2

y <- x1 + 3
```

```{r Object-solution}
x1 <- 2
y <- x1 + 3

x1
y

print(x1)
print(y)
```

### Vectors

In R, a **vector** is an ordered sequence of numbers (or other data types). Vectors are especially useful when working with more than just a few values.  

We can create a vector by combining numbers with the function `c()`.  
For example:  `x <- c(2,5,3,2)` creates a vector named `x` that contains the numbers 2, 5, 3, 2 in this order.

```{r vector, exercise=TRUE, exercise.preval=TRUE}
x <- c(2,5,3,2)

x
```


Since a vector is ordered, we can select specific elements by referring to their position.  
This is done using square brackets after the vector’s name. For example: 

```{r vector-pos, exercise=TRUE, exercise.preval=TRUE}
x <- c(2,5,3,2)

x[2]
```

Besides numbers, vectors can also contain other types of data, such as words.  
Words (called *character* data) are written using single or double quotation marks.  

For example, the following code creates a vector with a few names.  
Can you output just `"Mary"`? 

```{r vector-char, exercise=TRUE, exercise.preval=TRUE}
x <- c('John', "Mary", "Helen")

x
```


### Functions

Functions are another type of object in R. A function takes an input and produces a specific output.  
For example, the function $f$ defined as  

$$f(x) = 4x + 3$$  

calculates a numerical output depending on the input $x$.  

When writing longer code across multiple lines that should be executed together, we use curly brackets `{ }`.


```{r FunktionBsp, exercise=TRUE}


linearFunction <- function(x)  4*x + 3

linearFunction2 <- function(x){
  4*x + 3
}

linearFunction(2)
linearFunction2(2)
linearFunction(20)

result <- linearFunction(2)
result
```


Your turn: Write a function that takes an input named `x1` and returns `x1 + 3`.  
That is, the function is defined as  

$$f(x_1) = x_1 + 3$$  

The structure and name (`plusThree`) are already provided in the box below.  
Complete the function and then calculate `f(5)`.  


```{r Funktion, exercise=TRUE, exercise.preval=TRUE}
plusThree <- function(x1){
  # complete the function here
}

```

```{r Funktion-solution}
plusThree <- function(x1){
  x1+3
}

plusThree(5)
```

Let’s examine the components of a function. Run the code after each change.

1. **Rename the input variable** from `x` to `UL` (both in the function header and in the calculation).
2. **Change the function’s name** (e.g., from `plusThree` to `myFun`).
3. **Modify the calculation** inside the curly braces.
4. **Remove the curly braces** to see that single-line functions can work without them (though keeping `{}` is good practice for readability).


```{r Funktion2, exercise=TRUE, exercise.preval=TRUE}
plusThree <- function(x){
  x+3
}

plusThree(2)
plusThree(99)
```

```{r Funktion2-solution}
plus <- function(UL)  UL*3 - 4

plus(2)
plus(99)
```

